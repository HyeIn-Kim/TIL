# 4장 변수

## 4.1 변수란 무엇인가? 왜 필요한가?

### 메모리

- 데이터를 저장할 수 있는 메모리 셀의 집합
- 메모리 셀 하나는 1바이트 (=8비트)
- 컴퓨터는 1 메모리 셀(1 바이트) 단위로 데이터를 read / write 한다.
- 각 셀은 고유의 메모리 주소를 가진다.

### 변수

- 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름
- 왜 필요한가? 값이 저장될 메모리 주소는 코드가 실행될 때 메모리의 상황에 따라 임의로 결정되니까
- 마치 라벨을 붙이듯 메모리 공간에 표시하는 거구나!
- 할당(assignment): 변수에 값을 저장함
- 참조(reference): 변수에 저장된 값을 읽어들임

## 4.2 식별자 Identifier

- 어떤 값을 구별해서 식별할 수 있는 고유한 이름
- 식별자는 값이 아니라 메모리 주소를 기억하고 있음
- 변수, 함수, 클래스 등 이름은 모두 식별 가능하니까 식별자다!

## 4.3 변수 선언

- 변수를 생성하는 것
  - 메모리 공간을 확보
  - 변수 이름과 확보된 메모리 공간의 주소를 연결
  - 확보된 메모리 공간은 해제되기 전까지 사용 가능
- 키워드(keyword): 자바스크립트 엔진이 수행할 동작을 규정한 일정의 명령어. `var` 등등

- 변수 선언하는 방법: `var`, `let`, `const`

```javascript
var score;
```

- 변수에 값을 할당하지 않으면 `undefined`로 초기화
- 변수 이름(= 식별자)은 `실행 컨텍스트`에 등록됨
- `ReferenceError(참조 에러)`: 선언하지 않은 식별자에 접근하면 발생한다.

## 4.4 변수 선언의 실행 시점과 변수 호이스팅

```javascript
console.log(score); // undefined

var score;
```

- 자바스크립트는 `인터프리터` 언어니까 `console.log(score)`가 참조 에러가 나야 하는데 실행이 된다...!?
- 변수, 함수 등 식별자 선언은 런타임이 아니라 실행 전 `소스코드 평가 단계`에서 실행된다.
  - 런타임: 소스코드가 한 줄씩 순차적으로 실행되는 시점
- `호이스팅`: 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징
  - `var`, `let`, `const`, `function`, `function*`, `class` 키워드를 사용해서 선언하는 모든 식별자(변수, 함수, 클래스 등)는 호이스팅된다.
  - 모든 선언문은 런타임 이전 단계에서 먼저 실행되기 때문

## 4.5 값의 할당

- 자바스크립트에서는 변수 선언 & 값 할당을 한 줄로 해도, 2개의 문으로 각각 나누어 실행한다.

```javascript
console.log(score); // undefined

var score = 80; // 변수 선언 & 할당

console.log(score); // 80
```

1. 호이스팅되어 변수가 먼저 선언된다. `var score = undefined`
2. 변수에 80이 할당된다.

```javascript
console.log(score); // undefined

score = 80; // 2. 값 할당
var score; // 1. 변수 선언은 호이스팅됨

console.log(score); // 80
```

## 4.6 값의 재할당

- 어떤 변수에 새로운 값을 또다시 할당하는 것
- 상수(constant): 재할당 불가능한 값, `const` 키워드로 선언 가능

```javascript
var score = 80;
score = 90;
```

- 변수를 재할당하면 원래 자리에 값이 바뀌는 게 아니라, 새로운 메모리 공간에 새 값을 할당하고, 변수 이름을 붙인다.
  - 즉, 이전 값은 메모리에 여전히 남아 있지만, 식별자가 붙어있지 않아 우리는 그 값에 접근할 수 없는 상태
  - 엇! 그러면 메모리 낭비 아닌가요?

### 가비지 콜렉터

- 자바스크립트는 ↑처럼 더이상 사용하지 않는 메모리를 주기적으로 검사하여, 할당 해제를 시켜준다.
- 자바, 자바스크립트처럼 가비지 콜렉터를 내장하는 언어를 `매니지드 언어(managed language)`라고 한다.
- C처럼 가비지 콜렉터가 아닌, 개발자가 직접 메모리를 조작하는 언어를 `언매니지드 언어(unmanaged language)`라고 한다.

## 4.7 식별자 네이밍 규칙

- 특수문자를 제외한 `문자, 숫자, 언더스코어(_), 달러 기호($)`
- 숫자로 시작할 수 없음
- 예약어를 사용할 수 없음
  - 예약어의 예시) `await`, `break`, `if`, `else`, `continue`, `for`, `null` 등등...
- ES5부터는 식별자에 유니코드 문자가 가능해서 한글, 일본어 등이 된다고 한다. 그래도 알파벳을 쓰자.
- 대소문자를 구분한다.
- 변수 이름을 지을 때는, 의미하는 바를 잘 살려서 짓자! ~~무지성 a, b, c 금지~~

### 네이밍 컨벤션 Naming Convention

```javascript
// 1. 카멜 케이스 camelCase
var firstName;

// 2. 스네이크 케이스 snake_case
var first_name;

// 3. 파스칼 케이스
var FirstName;

// 4. 헝가리언 케이스 typeHungarianCase
var strFirstName;
var $elem = document.getElementById("myId"); // DOM 노드
var observable$ = fromEvent(document, "click"); // RxJS 옵저버블
```

- 자바스크립트에서 일반적으로는..
  - 변수, 함수 이름: 카멜 케이스
  - 생성자 함수, 클래스 이름: 파스칼 케이스
